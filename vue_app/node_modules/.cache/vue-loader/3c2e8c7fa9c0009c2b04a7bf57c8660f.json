{"remainingRequest":"E:\\myProject\\vue_app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\myProject\\vue_app\\src\\components\\tabbar\\LoginContainer.vue?vue&type=style&index=0&id=07ab79b6&scoped=true&lang=css","dependencies":[{"path":"E:\\myProject\\vue_app\\src\\components\\tabbar\\LoginContainer.vue","mtime":1548145930003},{"path":"E:\\myProject\\vue_app\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\myProject\\vue_app\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\myProject\\vue_app\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\myProject\\vue_app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1535162686000},{"path":"E:\\myProject\\vue_app\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.app-login {\n    padding: 15px;\n}\n\ndiv.app-login > :nth-child(3) {\n    margin-left: 91px;\n}\n\ndiv.app-login > :last-child {\n    margin-left: 5px;\n}\n",{"version":3,"sources":["LoginContainer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"LoginContainer.vue","sourceRoot":"src\\components\\tabbar","sourcesContent":["<template>\r\n    <div class=\"app-login\">\r\n        用户名：<input type=\"text\" placeholder=\"请输入用户名\" name=\"uname\" v-model=\"uname\"/>\r\n        密码：<input type=\"password\" placeholder=\"请输入密码\" name=\"upwd\" v-model=\"upwd\"/>\r\n        <mt-button type=\"primary\" size=\"normal\" @click=\"login()\">登录</mt-button>\r\n        <mt-button type=\"primary\" size=\"normal\" @click=\"register()\">注册</mt-button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {Toast} from \"mint-ui\"\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                uname: \"\",\r\n                upwd: \"\",\r\n                path: \"\"\r\n            }\r\n        },\r\n        created() {\r\n            //接收上一个页面的路径\r\n            this.path = this.$route.query.path\r\n        },\r\n        methods: {\r\n            //登录\r\n            login() {\r\n                var state = this.$store.getters.isLogin //获取vuex中的登录状态\r\n                if (!state) {\r\n                    if (this.uname == \"\") {\r\n                        Toast(\"请输入用户名\")\r\n                        return\r\n                    } else if (this.upwd == \"\") {\r\n                        Toast(\"请输入密码\")\r\n                        return\r\n                    }\r\n                    this.$http.post(\"Login\", {\r\n                        uname: this.uname,\r\n                        upwd: this.upwd\r\n                    })\r\n                        .then(res => {\r\n                            if (res.body[1].code === 1) { //返回的code==1,说明登陆成功\r\n                                if (this.path){  //判断是否有上一页的path\r\n                                    Toast({\r\n                                        message: res.body[1].msg + \",即将返回来时页面\",\r\n                                        duration: 2000\r\n                                    })\r\n                                }else{\r\n                                    Toast({\r\n                                        message: res.body[1].msg,\r\n                                        duration: 2000\r\n                                    })\r\n                                }\r\n                                this.$store.commit('loginState', res.body[0].uid) //登录成功，修改登录状态,uid\r\n                                if (this.path) {//判断是否有上一页的path\r\n                                    setTimeout(() => {\r\n                                        //this.$router.go(-1) //返回来时页面\r\n                                        this.$router.push(this.path)\r\n                                    }, 2000)\r\n                                }else{\r\n                                    return\r\n                                }\r\n                            } else {\r\n                                Toast(res.body.msg)\r\n                            }\r\n                        })\r\n                } else {\r\n                    return\r\n                }\r\n            },\r\n            /*跳转到注册页面*/\r\n            register() {\r\n                this.$router.push(\"/home/register\")\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .app-login {\r\n        padding: 15px;\r\n    }\r\n\r\n    div.app-login > :nth-child(3) {\r\n        margin-left: 91px;\r\n    }\r\n\r\n    div.app-login > :last-child {\r\n        margin-left: 5px;\r\n    }\r\n</style>"]}]}